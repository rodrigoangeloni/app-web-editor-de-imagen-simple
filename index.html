<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editor Simple de Im√°genes</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.css">
</head>

<body>
    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container" role="alert" aria-live="polite"></div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden" role="dialog" aria-modal="true"
        aria-labelledby="loadingText">
        <div class="spinner" role="status" aria-hidden="true"></div>
        <p id="loadingText">Procesando...</p>
    </div>

    <div class="container">
        <h1>Editor de Im√°genes</h1>

        <!-- Info de imagen -->
        <div id="imageInfo" class="image-info hidden">
            <span id="infoDimensions">0 √ó 0 px</span>
            <span id="infoSize">0 KB</span>
            <span id="infoFormat">-</span>
        </div>

        <div class="upload-area" id="dropZone" role="button" tabindex="0"
            aria-label="√Årea para cargar imagen. Arrastra una imagen o haz clic para seleccionar">
            <p>Arrastra tu imagen aqu√≠ o haz clic para seleccionar</p>
            <input type="file" id="fileInput" accept="image/*" aria-label="Seleccionar archivo de imagen">
        </div>

        <div class="editor-container">
            <div class="image-container" role="img" aria-label="Vista previa de la imagen">
                <img id="imagePreview" style="max-width: 100%; display: none;" alt="Carga una imagen para editar">
                <div class="mask-container">
                    <canvas id="maskPreview"></canvas>
                </div>
            </div>
            <div class="controls">
                <div class="control-group">
                    <label for="quality">Calidad:</label>
                    <input type="range" id="quality" min="1" max="100" value="90">
                    <span id="qualityValue">90%</span>
                </div>
                <div class="control-group">
                    <label for="format">Formato:</label>
                    <select id="format">
                        <option value="jpeg">JPEG</option>
                        <option value="png">PNG</option>
                        <option value="webp">WEBP</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>Redimensionar:</label>
                    <div class="size-controls">
                        <div>
                            <input type="number" id="width" placeholder="Ancho" min="1">
                            <input type="number" id="height" placeholder="Alto" min="1">
                        </div>
                        <div>
                            <select id="unit">
                                <option value="px">P√≠xeles</option>
                                <option value="cm">Cent√≠metros</option>
                            </select>
                            <label class="checkbox-label">
                                <input type="checkbox" id="keepAspect" checked> Mantener relaci√≥n
                            </label>
                        </div>
                    </div>
                </div>
                <div class="control-group percent-control">
                    <label for="percent">Escala (%):</label>
                    <input type="number" id="percent" min="1" max="1000" value="100" style="width: 100px">
                </div>
                <div class="control-group">
                    <label>Rotaci√≥n:</label>
                    <div class="rotation-controls" role="group" aria-label="Controles de rotaci√≥n y volteo">
                        <button type="button" id="rotateLeft" class="icon-btn" title="Rotar 90¬∞ izquierda (Ctrl+‚Üê)"
                            disabled aria-label="Rotar 90 grados a la izquierda">
                            ‚Ü∂
                        </button>
                        <button type="button" id="rotateRight" class="icon-btn" title="Rotar 90¬∞ derecha (Ctrl+‚Üí)"
                            disabled aria-label="Rotar 90 grados a la derecha">
                            ‚Ü∑
                        </button>
                        <button type="button" id="flipH" class="icon-btn" title="Voltear horizontal" disabled
                            aria-label="Voltear horizontalmente">
                            ‚áÜ
                        </button>
                        <button type="button" id="flipV" class="icon-btn" title="Voltear vertical" disabled
                            aria-label="Voltear verticalmente">
                            ‚áÖ
                        </button>
                    </div>
                </div>
                <div class="control-group">
                    <label for="brightness">Brillo:</label>
                    <input type="range" id="brightness" min="0" max="200" value="100"
                        title="Ajustar brillo de la imagen" aria-valuemin="0" aria-valuemax="200" aria-valuenow="100">
                    <span id="brightnessValue">100%</span>
                </div>
                <div class="control-group">
                    <label for="contrast">Contraste:</label>
                    <input type="range" id="contrast" min="0" max="200" value="100"
                        title="Ajustar contraste de la imagen" aria-valuemin="0" aria-valuemax="200"
                        aria-valuenow="100">
                    <span id="contrastValue">100%</span>
                </div>
                <div class="control-group">
                    <label for="saturation">Saturaci√≥n:</label>
                    <input type="range" id="saturation" min="0" max="200" value="100"
                        title="Ajustar saturaci√≥n de colores" aria-valuemin="0" aria-valuemax="200" aria-valuenow="100">
                    <span id="saturationValue">100%</span>
                </div>
                <div class="control-group">
                    <label>Filtros:</label>
                    <div class="filter-controls" role="group" aria-label="Filtros de imagen">
                        <button id="filterNone" class="filter-btn active" aria-pressed="true">Original</button>
                        <button id="filterGrayscale" class="filter-btn" aria-pressed="false">Escala de Grises</button>
                        <button id="filterSepia" class="filter-btn" aria-pressed="false">Sepia</button>
                        <button id="filterInvert" class="filter-btn" aria-pressed="false">Invertir</button>
                    </div>
                </div>
                <div class="control-group">
                    <label>Eliminar fondo:</label>
                    <div class="bg-remove-controls">
                        <input type="color" id="bgColor" value="#ffffff">
                        <input type="range" id="tolerance" min="0" max="100" value="10">
                        <span id="toleranceValue">10%</span>
                    </div>
                    <label class="checkbox-label">
                        <input type="checkbox" id="edgesOnly" checked> Solo desde bordes (m√°s preciso)
                    </label>
                </div>
                <div class="action-buttons" role="group" aria-label="Acciones principales">
                    <div class="history-controls" role="group" aria-label="Historial de cambios">
                        <button type="button" id="undoBtn" class="secondary-btn" title="Deshacer (Ctrl+Z)" disabled
                            aria-label="Deshacer √∫ltimo cambio">‚Ü© Deshacer</button>
                        <button type="button" id="redoBtn" class="secondary-btn" title="Rehacer (Ctrl+Y)" disabled
                            aria-label="Rehacer cambio deshecho">‚Ü™ Rehacer</button>
                    </div>
                    <button type="button" id="compareBtn" class="secondary-btn"
                        title="Mantener presionado para comparar con original" disabled
                        aria-label="Comparar con imagen original">üëÅ Comparar</button>
                    <button type="button" id="resetBtn" class="secondary-btn danger"
                        title="Resetear todos los cambios (Escape)" disabled aria-label="Resetear todos los cambios">üîÑ
                        Resetear</button>
                    <button type="button" id="downloadBtn" title="Descargar imagen editada (Ctrl+S)" disabled
                        aria-label="Descargar imagen editada">‚¨á Descargar Imagen</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/compressorjs/1.1.1/compressor.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="js/main.js"></script>
</body>

</html>